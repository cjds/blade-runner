<?php

class ModeratorController extends BaseController{


	public function postJSONAddFlag(){
		if(Auth::user()){
			$input=Input::all();
			$flag=new Flag();
			$flag->post->associate(Post::findOrFail($input['post_id']));
			if($input['flag-reason']=='Other')
				$flag->flag_reason=$input['flag-reason'];
			else
				$flag->flag_reason=$input['custom-reason'];
			$flag->creator->associate(Auth::user());

		}
		return Response::json(array('status'=>'fail','type'=>'user_authority','message'=>'You do not have sufficient authority'));	
	}

	//Moderators and above
	public function getViewFlags(){

	}

	public function getJSONtNextFlag(){

	}

	//
	public function postJSONNextFlag(){

	}
}


?>